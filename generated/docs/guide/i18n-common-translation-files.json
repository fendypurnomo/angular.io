{
  "id": "guide/i18n-common-translation-files",
  "title": "Work with translation files",
  "contents": "\n\n\n<div class=\"github-links\">\n  <a href=\"https://github.com/angular/angular/edit/master/aio/content/guide/i18n-common-translation-files.md?message=docs%3A%20describe%20your%20change...\" aria-label=\"Suggest Edits\" title=\"Suggest Edits\"><i class=\"material-icons\" aria-hidden=\"true\" role=\"img\">mode_edit</i></a>\n</div>\n\n\n<div class=\"content\">\n  <h1 id=\"work-with-translation-files\">Work with translation files<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/i18n-common-translation-files#work-with-translation-files\"><i class=\"material-icons\">link</i></a></h1>\n<a id=\"ng-xi18n\"></a>\n<a id=\"ng-xi18n-options\"></a>\n<a id=\"translate\"></a>\n<p>After preparing a template for translation, use the <a href=\"cli/extract-i18n\" title=\"ng extract-i18n | CLI | Angular\"><code>extract-i18n</code></a> Angular CLI command to extract the marked text in the template into a <em>source language</em> file.</p>\n<p>The marked text includes text marked with <code>i18n</code> and attributes marked with <code>i18n-</code><em>attribute</em> as described in the previous section.\nFollow these steps:</p>\n<ol>\n<li><a href=\"guide/i18n-common-translation-files#extract-the-source-language-file\" title=\"Extract the source language file - Work with translation files | Angular\">Extract the source language file</a>.\nOptionally, change the location, format, and name.</li>\n<li><a href=\"guide/i18n-common-translation-files#create-a-translation-file-for-each-language\" title=\"Create a translation file for each language - Work with translation files | Angular\">Create a translation file for each language</a> by copying the source language file.</li>\n<li><a href=\"guide/i18n-common-translation-files#translate-each-translation-file\" title=\"Translate each translation file - Work with translation files | Angular\">Translate each translation file</a>.</li>\n<li><a href=\"guide/i18n-common-translation-files#translate-plurals-and-alternate-expressions\" title=\"Translate plurals and alternate expressions - Work with translation files | Angular\">Translate plurals and alternate expressions</a> separately.</li>\n</ol>\n<h3 id=\"extract-the-source-language-file\">Extract the source language file<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/i18n-common-translation-files#extract-the-source-language-file\"><i class=\"material-icons\">link</i></a></h3>\n<a id=\"create-source\"></a>\n<p>To extract the source language file, open a terminal window, change to the root directory of your application project, and run the following CLI command:</p>\n<code-example path=\"i18n/doc-files/commands.sh\" region=\"extract-i18n-default\" language=\"sh\">\nng extract-i18n\n\n</code-example>\n<p>The <code>extract-i18n</code> command creates a source language file named <code>messages.xlf</code> in the root directory of your project using the <a href=\"https://en.wikipedia.org/wiki/XLIFF\" title=\"XLIFF | Wikipedia\">XML Localization Interchange File Format (XLIFF, version 1.2)</a>.</p>\n<p>Use the following <a href=\"cli/extract-i18n\" title=\"ng extract-i18n | CLI | Angular\"><code>extract-i18n</code> command options</a> to change the source language file location, format, and file name:</p>\n<ul>\n<li><code>--output-path</code>: Change the location.</li>\n<li><code>--format</code>: Change the format.</li>\n<li><code>--outFile</code>: Change the file name.</li>\n</ul>\n<div class=\"alert is-helpful\">\n<p><strong>Note</strong>: The <code>--i18n-locale</code> option is deprecated.\nAngular 9 uses the source locale configured in the <a href=\"guide/workspace-config\" title=\"Angular workspace configuration | Angular\">workspace configuration</a> file (<code>angular.json</code>) of your application.</p>\n</div>\n<h4 id=\"change-the-source-language-file-location\">Change the source language file location<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/i18n-common-translation-files#change-the-source-language-file-location\"><i class=\"material-icons\">link</i></a></h4>\n<p>To create a file in the <code>src/locale</code> directory, specify the output path as an option.\nThe following example specifies the output path as an option.</p>\n<code-example path=\"i18n/doc-files/commands.sh\" region=\"extract-i18n-output-path\" language=\"sh\">\nng extract-i18n --output-path src/locale\n\n</code-example>\n<h4 id=\"change-the-source-language-file-format\">Change the source language file format<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/i18n-common-translation-files#change-the-source-language-file-format\"><i class=\"material-icons\">link</i></a></h4>\n<a id=\"other-formats\"></a>\n<p>The <code>extract-i18n</code> command writes files in the following translation formats.</p>\n<ul>\n<li>XLIFF 1.2 (default)</li>\n<li>XLIFF 2</li>\n<li><a href=\"http://cldr.unicode.org/development/development-process/design-proposals/xmb\" title=\"XMB | CLDR - Unicode Common Locale Data Repository | Unicode\">XML Message Bundle (XMB)</a></li>\n<li>JSON</li>\n<li><a href=\"https://github.com/google/app-resource-bundle/wiki/ApplicationResourceBundleSpecification\" title=\"ApplicationResourceBundleSpecification | google/app-resource-bundle | GitHub\">ARB</a></li>\n</ul>\n<p>Specify the translation format explicitly with the <code>--format</code> command option.\nThe following example demonstrates several translation formats.</p>\n<code-example path=\"i18n/doc-files/commands.sh\" region=\"extract-i18n-formats\" language=\"sh\">\nng extract-i18n --format=xlf\nng extract-i18n --format=xlf2\nng extract-i18n --format=xmb\nng extract-i18n --format=json\nng extract-i18n --format=arb\n\n</code-example>\n<div class=\"alert is-helpful\">\n<p>XLIFF files use the extension <code>.xlf</code>.\nThe XMB format generates <code>.xmb</code> source language files but uses<code>.xtb</code> (XML Translation Bundle or XTB) translation files.</p>\n</div>\n<h4 id=\"change-the-source-language-file-name\">Change the source language file name<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/i18n-common-translation-files#change-the-source-language-file-name\"><i class=\"material-icons\">link</i></a></h4>\n<p>To change the name of the source language file generated by the extraction tool, use\nthe <code>--outFile</code> command option:</p>\n<code-example path=\"i18n/doc-files/commands.sh\" region=\"extract-i18n-out-file\" language=\"sh\">\nng extract-i18n --out-file source.xlf\n\n</code-example>\n<h3 id=\"create-a-translation-file-for-each-language\">Create a translation file for each language<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/i18n-common-translation-files#create-a-translation-file-for-each-language\"><i class=\"material-icons\">link</i></a></h3>\n<a id=\"localization-folder\"></a>\n<p>The <code>ng extract-i18n</code> command (with no options) generates a source language file named <code>messages.xlf</code> in the project <code>src</code> folder.\nCreate <em>translation</em> files for each language by copying the source language file.\nTo avoid confusion with multiple translations, you should organize the language translation files by locale in a dedicated <code>locale</code> folder under <code>src/</code>.\nUse a filename extension that matches the associated locale, such as <code>messages.fr.xlf</code>.</p>\n<p>For example, to create a French translation file, follow these steps:</p>\n<ol>\n<li>Make a copy of the <code>messages.xlf</code> source language file.</li>\n<li>Put the copy in the <code>src/locale</code> folder.</li>\n<li>Rename the copy to <code>messages.fr.xlf</code> for the French language (<code>fr</code>) translation.\nSend this translation file to the translator.</li>\n</ol>\n<p>Repeat the above steps for each language you want to add to your application.</p>\n<h3 id=\"translate-each-translation-file\">Translate each translation file<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/i18n-common-translation-files#translate-each-translation-file\"><i class=\"material-icons\">link</i></a></h3>\n<a id=\"translate-text-nodes\"></a>\n<p>Unless you are fluent in the language and have the time to edit translations, you would likely send each translation file to a translator, who would then use an XLIFF file editor to create and edit the translation.</p>\n<p>To demonstrate this process, review the <code>messages.fr.xlf</code> file in the <live-example></live-example>.  The live example includes a French translation for you to edit without a special XLIFF editor or knowledge of French.\nComplete the following actions.</p>\n<ol>\n<li>\n<p>Open <code>messages.fr.xlf</code> and find the first <code>&#x3C;trans-unit></code> element.\nThis is a <em>translation unit</em>, also known as a <em>text node</em>, representing the translation of the <code>&#x3C;h1></code> greeting tag that was previously marked with the <code>i18n</code> attribute:</p>\n<blockquote>\n<code-example path=\"i18n/doc-files/messages.fr.xlf.html\" region=\"translated-hello-before\" header=\"src/locale/messages.fr.xlf (<trans-unit>)\">\n&#x3C;trans-unit id=\"introductionHeader\" datatype=\"html\">\n  &#x3C;source>Hello i18n!&#x3C;/source>\n  &#x3C;note priority=\"1\" from=\"description\">An introduction header for this sample&#x3C;/note>\n  &#x3C;note priority=\"1\" from=\"meaning\">User welcome&#x3C;/note>\n&#x3C;/trans-unit>\n\n</code-example>\n</blockquote>\n<blockquote>\n<p>The <code>id=\"introductionHeader\"</code> is a <a href=\"guide/i18n-optional-manage-marked-text\" title=\"Manage marked text with custom IDs | Angular\">custom ID</a>, but without the <code>@@</code> prefix required in the source HTML.</p>\n</blockquote>\n</li>\n<li>\n<p>Duplicate the <code>&#x3C;source>...&#x3C;/source></code> element in the text node, rename it to <code>target</code>, and then replace its content with the French text:</p>\n<blockquote>\n<code-example path=\"i18n/doc-files/messages.fr.xlf.html\" region=\"translated-hello\" header=\"src/locale/messages.fr.xlf (<trans-unit>, after translation)\">\n&#x3C;trans-unit id=\"introductionHeader\" datatype=\"html\">\n  &#x3C;source>Hello i18n!&#x3C;/source>\n  &#x3C;target>Bonjour i18n !&#x3C;/target>\n  &#x3C;note priority=\"1\" from=\"description\">An introduction header for this sample&#x3C;/note>\n  &#x3C;note priority=\"1\" from=\"meaning\">User welcome&#x3C;/note>\n&#x3C;/trans-unit>\n\n</code-example>\n</blockquote>\n<blockquote>\n<p>In a more complex translation, the information and context in the <a href=\"guide/i18n-common-prepare#add-helpful-descriptions-and-meanings\" title=\"Add helpful descriptions and meanings - Common Internationalization task #4: Prepare templates for translations | Angular\">description and meaning elements</a> described previously would help you choose the right words for translation.</p>\n</blockquote>\n</li>\n<li>\n<p>Translate the other text nodes.\nThe following example displays the way to translate.</p>\n<blockquote>\n<code-example path=\"i18n/doc-files/messages.fr.xlf.html\" region=\"translated-other-nodes\" header=\"src/locale/messages.fr.xlf (<trans-unit>)\">\n&#x3C;trans-unit id=\"ba0cc104d3d69bf669f97b8d96a4c5d8d9559aa3\" datatype=\"html\">\n  &#x3C;source>I don&#x26;apos;t output any element&#x3C;/source>\n  &#x3C;target>Je n'affiche aucun élément&#x3C;/target>\n&#x3C;/trans-unit>\n&#x3C;trans-unit id=\"701174153757adf13e7c24a248c8a873ac9f5193\" datatype=\"html\">\n  &#x3C;source>Angular logo&#x3C;/source>\n  &#x3C;target>Logo d'Angular&#x3C;/target>\n&#x3C;/trans-unit>\n\n</code-example>\n</blockquote>\n<div class=\"alert is-important\">\n<p>Don't change the IDs for translation units.\nEach <code>id</code> is generated by Angular and depends on the content of the template text and its assigned meaning.\nIf you change either the text or the meaning, then the <code>id</code> changes.\nFor more about managing text updates and IDs, see <a href=\"guide/i18n-optional-manage-marked-text\" title=\"Manage marked text with custom IDs | Angular\">custom IDs</a>.</p>\n</div>\n</li>\n</ol>\n<h3 id=\"translate-plurals-and-alternate-expressions\">Translate plurals and alternate expressions<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/i18n-common-translation-files#translate-plurals-and-alternate-expressions\"><i class=\"material-icons\">link</i></a></h3>\n<a id=\"translate-plural-select\"></a>\n<p>The <a href=\"guide/i18n-common-prepare#mark-plurals-and-alternates-for-translation\" title=\"Mark plurals and alternates for translation - Common Internationalization task #4: Prepare templates for translations | Angular\"><code>plural</code> and <code>select</code> ICU expressions</a> are extracted as additional messages, so you must translate them separately.</p>\n<h4 id=\"translate-plurals\">Translate plurals<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/i18n-common-translation-files#translate-plurals\"><i class=\"material-icons\">link</i></a></h4>\n<a id=\"translate-plural\"></a>\n<p>To translate a <code>plural</code>, translate the ICU format match values.</p>\n<ul>\n<li><code>just now</code></li>\n<li><code>one minute ago</code></li>\n<li><code>&#x3C;x id=\"INTERPOLATION\" equiv-text=\"{{minutes}}\"/> minutes ago</code></li>\n</ul>\n<p>The following example displays the way to translate.</p>\n<code-example path=\"i18n/doc-files/messages.fr.xlf.html\" region=\"translated-plural\" header=\"src/locale/messages.fr.xlf (<trans-unit>)\">\n&#x3C;trans-unit id=\"5a134dee893586d02bffc9611056b9cadf9abfad\" datatype=\"html\">\n  &#x3C;source>{VAR_PLURAL, plural, =0 {just now} =1 {one minute ago} other {&#x3C;x id=\"INTERPOLATION\" equiv-text=\"{{minutes}}\"/> minutes ago} }&#x3C;/source>\n  &#x3C;target>{VAR_PLURAL, plural, =0 {à l'instant} =1 {il y a une minute} other {il y a &#x3C;x id=\"INTERPOLATION\" equiv-text=\"{{minutes}}\"/> minutes} }&#x3C;/target>\n&#x3C;/trans-unit>\n\n</code-example>\n<p>Add or remove plural cases as needed for each language.</p>\n<div class=\"alert is-helpful\">\n<p>For language plural rules, see <a href=\"https://unicode-org.github.io/cldr-staging/charts/latest/supplemental/language_plural_rules.html\" title=\"Language Plural Rules - CLDR Charts | Unicode | GitHub\">CLDR plural rules</a>.</p>\n</div>\n<h4 id=\"translate-alternate-expressions\">Translate alternate expressions<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/i18n-common-translation-files#translate-alternate-expressions\"><i class=\"material-icons\">link</i></a></h4>\n<a id=\"translate-select\"></a>\n<p>Angular also extracts alternate <code>select</code> ICU expressions as separate translation units.\nThe following example displays a <code>select</code> ICU expression in the component template.</p>\n<code-example path=\"i18n/src/app/app.component.html\" region=\"i18n-select\" header=\"src/app/app.component.html\">\n&#x3C;span i18n>The author is {gender, select, male {male} female {female} other {other}}&#x3C;/span>\n\n</code-example>\n<p>In this example, Angular extracts the expression into two translation units.\nThe first contains the text outside of the <code>select</code> clause, and uses a placeholder for <code>select</code> (<code>&#x3C;x id=\"ICU\"></code>):</p>\n<code-example path=\"i18n/doc-files/messages.fr.xlf.html\" region=\"translate-select-1\" header=\"src/locale/messages.fr.xlf (<trans-unit>)\">\n&#x3C;trans-unit id=\"f99f34ac9bd4606345071bd813858dec29f3b7d1\" datatype=\"html\">\n  &#x3C;source>The author is &#x3C;x id=\"ICU\" equiv-text=\"{gender, select, male {...} female {...} other {...}}\"/>&#x3C;/source>\n  &#x3C;target>L'auteur est &#x3C;x id=\"ICU\" equiv-text=\"{gender, select, male {...} female {...} other {...}}\"/>&#x3C;/target>\n&#x3C;/trans-unit>\n\n</code-example>\n<div class=\"alert is-important\">\n<p>When you translate the text, move the placeholder if necessary, but don't remove it.\nIf you remove the placeholder, the ICU expression is removed from your translated application.</p>\n</div>\n<p>The following example displays the second translation unit that contains the <code>select</code> clause.</p>\n<code-example path=\"i18n/doc-files/messages.fr.xlf.html\" region=\"translate-select-2\" header=\"src/locale/messages.fr.xlf (<trans-unit>)\">\n&#x3C;trans-unit id=\"eff74b75ab7364b6fa888f1cbfae901aaaf02295\" datatype=\"html\">\n  &#x3C;source>{VAR_SELECT, select, male {male} female {female} other {other} }&#x3C;/source>\n  &#x3C;target>{VAR_SELECT, select, male {un homme} female {une femme} other {autre} }&#x3C;/target>\n&#x3C;/trans-unit>\n\n</code-example>\n<p>The following example displays both translation units after translation is complete.</p>\n<code-example path=\"i18n/doc-files/messages.fr.xlf.html\" region=\"translated-select\" header=\"src/locale/messages.fr.xlf (<trans-unit>)\">\n&#x3C;trans-unit id=\"f99f34ac9bd4606345071bd813858dec29f3b7d1\" datatype=\"html\">\n  &#x3C;source>The author is &#x3C;x id=\"ICU\" equiv-text=\"{gender, select, male {...} female {...} other {...}}\"/>&#x3C;/source>\n  &#x3C;target>L'auteur est &#x3C;x id=\"ICU\" equiv-text=\"{gender, select, male {...} female {...} other {...}}\"/>&#x3C;/target>\n&#x3C;/trans-unit>\n&#x3C;trans-unit id=\"eff74b75ab7364b6fa888f1cbfae901aaaf02295\" datatype=\"html\">\n  &#x3C;source>{VAR_SELECT, select, male {male} female {female} other {other} }&#x3C;/source>\n  &#x3C;target>{VAR_SELECT, select, male {un homme} female {une femme} other {autre} }&#x3C;/target>\n&#x3C;/trans-unit>\n\n</code-example>\n<h4 id=\"translate-nested-expressions\">Translate nested expressions<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/i18n-common-translation-files#translate-nested-expressions\"><i class=\"material-icons\">link</i></a></h4>\n<a id=\"translate-nested\"></a>\n<p>Angular treats a nested expression in the same manner as an alternate expression.  Angular extracts the expression into two translation units.\nThe following example displays the first translation unit that contains the text outside of the nested expression.</p>\n<code-example path=\"i18n/doc-files/messages.fr.xlf.html\" region=\"translate-nested-1\" header=\"src/locale/messages.fr.xlf (<trans-unit>)\">\n&#x3C;trans-unit id=\"972cb0cf3e442f7b1c00d7dab168ac08d6bdf20c\" datatype=\"html\">\n  &#x3C;source>Updated: &#x3C;x id=\"ICU\" equiv-text=\"{minutes, plural, =0 {...} =1 {...} other {...}}\"/>&#x3C;/source>\n  &#x3C;target>Mis à jour: &#x3C;x id=\"ICU\" equiv-text=\"{minutes, plural, =0 {...} =1 {...} other {...}}\"/>&#x3C;/target>\n&#x3C;/trans-unit>\n\n</code-example>\n<p>The following example displays the second translation unit that contains the complete nested expression.</p>\n<code-example path=\"i18n/doc-files/messages.fr.xlf.html\" region=\"translate-nested-2\" header=\"src/locale/messages.fr.xlf (<trans-unit>)\">\n&#x3C;trans-unit id=\"7151c2e67748b726f0864fc443861d45df21d706\" datatype=\"html\">\n  &#x3C;source>{VAR_PLURAL, plural, =0 {just now} =1 {one minute ago} other {&#x3C;x id=\"INTERPOLATION\" equiv-text=\"{{minutes}}\"/> minutes ago by {VAR_SELECT, select, male {male} female {female} other {other} }} }&#x3C;/source>\n  &#x3C;target>{VAR_PLURAL, plural, =0 {à l'instant} =1 {il y a une minute} other {il y a &#x3C;x id=\"INTERPOLATION\" equiv-text=\"{{minutes}}\"/> minutes par {VAR_SELECT, select, male {un homme} female {une femme} other {autre} }} }&#x3C;/target>\n&#x3C;/trans-unit>\n\n</code-example>\n<p>The following example displays both translation units after translating.</p>\n<code-example path=\"i18n/doc-files/messages.fr.xlf.html\" region=\"translate-nested\" header=\"src/locale/messages.fr.xlf (<trans-unit>)\">\n&#x3C;trans-unit id=\"972cb0cf3e442f7b1c00d7dab168ac08d6bdf20c\" datatype=\"html\">\n  &#x3C;source>Updated: &#x3C;x id=\"ICU\" equiv-text=\"{minutes, plural, =0 {...} =1 {...} other {...}}\"/>&#x3C;/source>\n  &#x3C;target>Mis à jour: &#x3C;x id=\"ICU\" equiv-text=\"{minutes, plural, =0 {...} =1 {...} other {...}}\"/>&#x3C;/target>\n&#x3C;/trans-unit>\n&#x3C;trans-unit id=\"7151c2e67748b726f0864fc443861d45df21d706\" datatype=\"html\">\n  &#x3C;source>{VAR_PLURAL, plural, =0 {just now} =1 {one minute ago} other {&#x3C;x id=\"INTERPOLATION\" equiv-text=\"{{minutes}}\"/> minutes ago by {VAR_SELECT, select, male {male} female {female} other {other} }} }&#x3C;/source>\n  &#x3C;target>{VAR_PLURAL, plural, =0 {à l'instant} =1 {il y a une minute} other {il y a &#x3C;x id=\"INTERPOLATION\" equiv-text=\"{{minutes}}\"/> minutes par {VAR_SELECT, select, male {un homme} female {une femme} other {autre} }} }&#x3C;/target>\n&#x3C;/trans-unit>\n\n</code-example>\n<!-- links -->\n<!-- external links -->\n<!-- end links -->\n\n  <div class=\"reviewed\">Last reviewed on Wed Sep 15 2021</div>\n</div>\n\n<!-- links to this doc:\n - guide/i18n-common\n - guide/i18n-common-prepare\n-->\n<!-- links from this doc:\n - cli/extract-i18n\n - guide/i18n-common-prepare#add-helpful-descriptions-and-meanings\n - guide/i18n-common-prepare#mark-plurals-and-alternates-for-translation\n - guide/i18n-common-translation-files#change-the-source-language-file-format\n - guide/i18n-common-translation-files#change-the-source-language-file-location\n - guide/i18n-common-translation-files#change-the-source-language-file-name\n - guide/i18n-common-translation-files#create-a-translation-file-for-each-language\n - guide/i18n-common-translation-files#extract-the-source-language-file\n - guide/i18n-common-translation-files#translate-alternate-expressions\n - guide/i18n-common-translation-files#translate-each-translation-file\n - guide/i18n-common-translation-files#translate-nested-expressions\n - guide/i18n-common-translation-files#translate-plurals\n - guide/i18n-common-translation-files#translate-plurals-and-alternate-expressions\n - guide/i18n-common-translation-files#work-with-translation-files\n - guide/i18n-optional-manage-marked-text\n - guide/workspace-config\n - http://cldr.unicode.org/development/development-process/design-proposals/xmb\n - https://en.wikipedia.org/wiki/XLIFF\n - https://github.com/angular/angular/edit/master/aio/content/guide/i18n-common-translation-files.md?message=docs%3A%20describe%20your%20change...\n - https://github.com/google/app-resource-bundle/wiki/ApplicationResourceBundleSpecification\n - https://unicode-org.github.io/cldr-staging/charts/latest/supplemental/language_plural_rules.html\n-->"
}