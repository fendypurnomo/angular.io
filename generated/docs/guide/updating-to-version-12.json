{
  "id": "guide/updating-to-version-12",
  "title": "Updating Angular",
  "contents": "\n\n\n<div class=\"github-links\">\n  <a href=\"https://github.com/angular/angular/edit/master/aio/content/guide/updating-to-version-12.md?message=docs%3A%20describe%20your%20change...\" aria-label=\"Suggest Edits\" title=\"Suggest Edits\"><i class=\"material-icons\" aria-hidden=\"true\" role=\"img\">mode_edit</i></a>\n</div>\n\n\n<div class=\"content\">\n  <h1 id=\"updating-angular\">Updating Angular<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/updating-to-version-12#updating-angular\"><i class=\"material-icons\">link</i></a></h1>\n<p>This guide contains information related to updating to Angular version 12.</p>\n<h2 id=\"updating-cli-applications\">Updating CLI applications<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/updating-to-version-12#updating-cli-applications\"><i class=\"material-icons\">link</i></a></h2>\n<p>For step-by-step instructions on how to update to the latest Angular release and leverage our automated migration tools to do so, use the interactive update guide at <a href=\"https://update.angular.io\">update.angular.io</a>.</p>\n<h2 id=\"building-applications-with-ivy\">Building applications with Ivy<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/updating-to-version-12#building-applications-with-ivy\"><i class=\"material-icons\">link</i></a></h2>\n<p>For libraries, View Engine is deprecated and will be removed in version 13.\nNew libraries created with version 12 or later default to Ivy.\nFor more information about distributing libraries with View Engine and Ivy, see the <a href=\"guide/creating-libraries#ivy-libraries\">Building libraries with Ivy</a> section of <a href=\"guide/creating-libraries\">Creating libraries</a>.</p>\n<h2 id=\"changes-and-deprecations-in-version-12\">Changes and deprecations in version 12<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/updating-to-version-12#changes-and-deprecations-in-version-12\"><i class=\"material-icons\">link</i></a></h2>\n<div class=\"alert is-helpful\">\n<p>   For information about Angular's deprecation and removal practices, see <a href=\"guide/releases#deprecation-practices\" title=\"Angular Release Practices: Deprecation practices\">Angular Release Practices</a>.</p>\n</div>\n<ul>\n<li>Applications can no longer build with View Engine by setting <code>enableIvy: false</code>.\nSupport for building libraries with View Engine, for backwards compatibility, is deprecated and will be removed in Angular version 13.\nNew libraries created with Angular version 12 will default to building and distributing with Ivy.\nFor more information, see <a href=\"guide/creating-libraries\">Creating Libraries</a>.</li>\n<li>The Ivy-based IDE <a href=\"guide/language-service\">language service</a> is now on by default.\nSee <a href=\"https://github.com/angular/vscode-ng-language-service/pull/1279\">PR #1279</a>.</li>\n<li>Angular's View Engine-based algorithm for generating i18n message IDs is deprecated.\nAngular version 12 adds a new flag to <code>localize-extract</code> called <code>--migrateMapFile</code> which  generates a JSON file that can be used to map legacy message IDs to canonical ones.\nThere is also a new script called <code>localize-migrate</code> that can use the mapping file which <code>localize-extract</code> generates and migrate all of the IDs in the files that are passed in.\nFor better stability, if you are using Angular's <code>i18n</code>, run this migration to move to the new message ID generation algorithm.\nIf you don't run this migration, all your generated message IDs will change when Angular removes the View Engine compiler.\nSee <a href=\"https://github.com/angular/angular/pull/41026\">PR #41026</a>.</li>\n<li>There is now a new build option named <code>inlineStyleLanguage</code> for defining the style sheet language in inline component styles.\nCurrently supported language options are CSS (default), Sass, SCSS, and LESS.\nThe default of CSS enables existing projects to continue to function as expected.\nSee <a href=\"https://github.com/angular/angular-cli/pull/20514\">PR #20514</a>.</li>\n<li>For new applications, strict mode is now the default in the CLI.\nSee <a href=\"https://github.com/angular/angular-cli/pull/20029\">PR #20029</a>.</li>\n<li>Add <code>emitEvent</code> option for <code><a href=\"api/forms/AbstractControl\" class=\"code-anchor\">AbstractControl</a></code> class methods.\nSee <a href=\"https://github.com/angular/angular/pull/31031\">PR #31031</a>.</li>\n<li>Support <code><a href=\"api/core/APP_INITIALIZER\" class=\"code-anchor\">APP_INITIALIZER</a></code> to work with observables.\nSee <a href=\"https://github.com/angular/angular/pull/31031\">PR #31031</a>.</li>\n<li><code><a href=\"api/common/http/HttpClient\" class=\"code-anchor\">HttpClient</a></code> supports specifying request metadata.\nSee <a href=\"https://github.com/angular/angular/pull/25751\">PR #25751</a>.</li>\n</ul>\n<a id=\"breaking-changes\"></a>\n<h3 id=\"breaking-changes-in-angular-version-12\">Breaking changes in Angular version 12<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/updating-to-version-12#breaking-changes-in-angular-version-12\"><i class=\"material-icons\">link</i></a></h3>\n<ul>\n<li>Add support for TypeScript 4.2.\nTypeScript &#x3C;4.2.3 is no longer supported.\nThe supported range of TypeScript versions is 4.2.3 to 4.2.x.\nSee <a href=\"https://github.com/angular/angular/pull/41158\">PR #41158</a>.</li>\n<li>Angular CDK and Angular Material internally now use the new <a href=\"https://sass-lang.com/blog/the-module-system-is-launched\">Sass module system</a>, which is actively maintained by the Sass team at Google.\nConsequently, applications can no longer consume Angular CDK/Material's Sass with the <a href=\"https://www.npmjs.com/package/node-sass\"><code>node-sass</code> npm package</a>.\n<code>node-sass</code> is unmaintained and does not support newer Sass features. Instead, applications must use the <a href=\"https://www.npmjs.com/package/sass\"><code>sass</code> npm package</a>, or the <a href=\"https://www.npmjs.com/package/sass-embedded\"><code>sass-embedded</code> npm package</a> for the <code>sass-embedded</code> beta.</li>\n<li>The Angular tooling now uses Webpack 5 to build applications. Webpack 4 usage and support has been removed.\nYou don't need to make any project level configuration changes to use the upgraded Webpack version when using the official Angular builders.\nCustom builders based on this package that use the experimental programmatic APIs may need to be updated to become compatible with Webpack 5.\nSee <a href=\"https://github.com/angular/angular-cli/pull/20466\">PR #20466</a>.</li>\n<li>Webpack 5 generates similar but differently named files for lazy-loaded JavaScript files in development configurations when the <code>namedChunks</code> option is enabled.\nFor the majority of users this change should have no effect on the application or build process.\nProduction builds should also not be affected as the <code>namedChunks</code> option is disabled by default in production configurations.\nHowever, if a project's post-build process makes assumptions as to the file names, then adjustments may need to be made to account for the new naming paradigm.\nSuch post-build processes could include custom file transformations after the build, integration into service-side frameworks, or deployment procedures.\nAn example of a development file name change is <code>lazy-lazy-module.js</code> becoming <code>src_app_lazy_lazy_module_ts.js</code>.\nSee <a href=\"https://github.com/angular/angular-cli/pull/20466\">PR #20466</a>.</li>\n<li>Webpack 5 now includes web worker support.\nHowever, the structure of the URL within the worker constructor must be in a specific format that differs from the current requirement.\nTo update web worker usage, where <code>./app.worker</code> is the actual worker name, change <code>new Worker('./app.worker', ...)</code> to <code>new Worker(new URL('./app.worker', import.meta.url), ...)</code>.\nSee <a href=\"https://github.com/angular/angular-cli/pull/20466\">PR #20466</a>.</li>\n<li>Critical CSS inlining is now enabled by default.\nTo turn this off, set <code>inlineCritical</code> to false.\nSee <a href=\"https://github.com/angular/angular-cli/pull/20096\">PR #20096</a> and the <a href=\"guide/workspace-config#optimization-configuration\">Style preprocessor options</a> section of <a href=\"guide/workspace-config\">Angular workspace configuration</a>.</li>\n<li><code>ng build</code> now produces production bundle by default.\nSee <a href=\"https://github.com/angular/angular-cli/pull/20128\">PR #20128</a>.</li>\n<li>Previously, the Forms module ignored <code><a href=\"api/forms/MinValidator\" class=\"code-anchor\">min</a></code> and <code><a href=\"api/forms/MaxValidator\" class=\"code-anchor\">max</a></code> attributes defined on the <code>&#x3C;input type=\"number\"></code>.\nNow these attributes trigger <code><a href=\"api/forms/MinValidator\" class=\"code-anchor\">min</a></code> and <code><a href=\"api/forms/MaxValidator\" class=\"code-anchor\">max</a></code> validation logic in cases where <code>formControl</code>, <code><a href=\"api/forms/FormControlName\" class=\"code-anchor\">formControlName</a></code>, or <code><a href=\"api/forms/NgModel\" class=\"code-anchor\">ngModel</a></code> directives are also present on a given input.\nSee <a href=\"https://github.com/angular/angular/pull/39063\">PR #39063</a>.</li>\n</ul>\n<a id=\"deprecations\"></a>\n<h3 id=\"new-deprecations\">New deprecations<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/updating-to-version-12#new-deprecations\"><i class=\"material-icons\">link</i></a></h3>\n<ul>\n<li>Support for Internet Explorer 11 is deprecated.\nSee <a href=\"guide/deprecations\">Deprecated APIs and features</a> and <a href=\"https://techcommunity.microsoft.com/t5/microsoft-365-blog/microsoft-365-apps-say-farewell-to-internet-explorer-11-and/ba-p/1591666\">Microsoft 365 apps say farewell to Internet Explorer 11 and Windows 10 sunsets Microsoft Edge Legacy</a>.</li>\n<li>Sass imports from <code>@angular/material/theming</code> are deprecated. There is a new Angular Material Sass API for <code>@use</code>.\nRun the migration script <code>ng g @angular/material:themingApi</code> to switch all your Sass imports for Angular CDK and Angular Material to the new API and <code>@use</code>.</li>\n<li>Support for publishing libraries with View Engine has been deprecated:\n<ul>\n<li>You can now compile libraries in <a href=\"guide/angular-compiler-options#compilationmode\"><em>partial</em> compilation mode</a> to generate Ivy compatible output that will be <em>linked</em> when an application using that library is bundled.</li>\n<li>New libraries you create with the Angular CLI default to partial compilation mode, and do not support View Engine. You can still build a library with View Engine. See <a href=\"guide/creating-libraries\">Creating libraries</a> for more information.</li>\n<li>Libraries compiled in partial compilation mode will not contain legacy <code>i18n</code> message IDs.\nIf the library was previously compiled by View Engine, and contained legacy <code>i18n</code> message IDs, then applications may have translation files that you'll need to migrate to the new message ID format. For more information, see <a href=\"guide/migration-legacy-message-id\">Migrating legacy localization IDs</a>.</li>\n<li>For context, see <a href=\"https://github.com/angular/angular/issues/38366\">Issue #38366</a>.</li>\n</ul>\n</li>\n</ul>\n<div class=\"alert is-helpful\">\n<p>Since version 9, Angular Ivy is the default rendering engine.\nFor more information about Ivy, see <a href=\"guide/ivy\">Angular Ivy</a>.</p>\n</div>\n\n  \n</div>\n\n<!-- links to this doc:\n - guide/ivy-compatibility\n-->\n<!-- links from this doc:\n - api/common/http/HttpClient\n - api/core/APP_INITIALIZER\n - api/forms/AbstractControl\n - api/forms/FormControlName\n - api/forms/MaxValidator\n - api/forms/MinValidator\n - api/forms/NgModel\n - guide/angular-compiler-options#compilationmode\n - guide/creating-libraries\n - guide/creating-libraries#ivy-libraries\n - guide/deprecations\n - guide/ivy\n - guide/language-service\n - guide/migration-legacy-message-id\n - guide/releases#deprecation-practices\n - guide/updating-to-version-12#breaking-changes-in-angular-version-12\n - guide/updating-to-version-12#building-applications-with-ivy\n - guide/updating-to-version-12#changes-and-deprecations-in-version-12\n - guide/updating-to-version-12#new-deprecations\n - guide/updating-to-version-12#updating-angular\n - guide/updating-to-version-12#updating-cli-applications\n - guide/workspace-config\n - guide/workspace-config#optimization-configuration\n - https://github.com/angular/angular-cli/pull/20029\n - https://github.com/angular/angular-cli/pull/20096\n - https://github.com/angular/angular-cli/pull/20128\n - https://github.com/angular/angular-cli/pull/20466\n - https://github.com/angular/angular-cli/pull/20514\n - https://github.com/angular/angular/edit/master/aio/content/guide/updating-to-version-12.md?message=docs%3A%20describe%20your%20change...\n - https://github.com/angular/angular/issues/38366\n - https://github.com/angular/angular/pull/25751\n - https://github.com/angular/angular/pull/31031\n - https://github.com/angular/angular/pull/39063\n - https://github.com/angular/angular/pull/41026\n - https://github.com/angular/angular/pull/41158\n - https://github.com/angular/vscode-ng-language-service/pull/1279\n - https://sass-lang.com/blog/the-module-system-is-launched\n - https://techcommunity.microsoft.com/t5/microsoft-365-blog/microsoft-365-apps-say-farewell-to-internet-explorer-11-and/ba-p/1591666\n - https://update.angular.io\n - https://www.npmjs.com/package/node-sass\n - https://www.npmjs.com/package/sass\n - https://www.npmjs.com/package/sass-embedded\n-->"
}